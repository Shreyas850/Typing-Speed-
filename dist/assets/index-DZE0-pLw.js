(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))g(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&g(u)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const S=document.getElementById("quote"),i=document.getElementById("input"),c=document.getElementById("result"),y=document.getElementById("startBtn"),h=document.getElementById("timer"),b=document.getElementById("tests"),I=document.getElementById("bestWpm"),w=document.getElementById("themeToggle"),v=document.getElementById("langSelect"),a=document.getElementById("shareBtn"),f=document.getElementById("typeSound"),C=document.getElementById("finishSound");let d,r=30,l="",m;const p=["The quick brown fox jumps over the lazy dog.","Practice makes perfect.","Typing fast is a skill worth learning.","Stay focused and keep improving.","You miss 100% of the shots you don't take.","Success is not final, failure is not fatal.","Code is like humor. When you have to explain it, it‚Äôs bad.","Strive not to be a success, but rather to be of value.","Discipline is the bridge between goals and accomplishment.","Typing is the dance of fingers on a digital stage."];async function T(n="en"){try{l=(await(await fetch("https://api.quotable.io/random")).json()).content}catch{console.warn("‚ö†Ô∏è Could not fetch quote from API, using local quote."),l=p[Math.floor(Math.random()*p.length)]}S.innerHTML=l+' <span class="cursor">|</span>',i.value="",i.disabled=!1,i.focus(),c.textContent="",a.style.display="none",h.textContent=`‚è≥ ${r}s`}function k(){clearInterval(d),r=30,m=Date.now(),d=setInterval(()=>{r--,h.textContent=`‚è≥ ${r}s`,r<=0&&(clearInterval(d),B())},1e3)}function B(){i.disabled=!0,C.play();const n=(Date.now()-m)/1e3,t=i.value.trim().split(/\s+/).length,o=Math.round(t/n*60);c.textContent=`‚è∞ Time's up! You typed ${t} words in ${n.toFixed(2)}s ‚Äî WPM: ${o}`,a.style.display="inline-block",a.onclick=()=>{navigator.clipboard.writeText(c.textContent),a.textContent="‚úÖ Copied!",setTimeout(()=>a.textContent="üìã Copy Result",2e3)},x(o)}function x(n){let t=localStorage.getItem("bestWpm")||0,o=localStorage.getItem("tests")||0;o=parseInt(o)+1,n>t&&(t=n,localStorage.setItem("bestWpm",t)),localStorage.setItem("tests",o),b.textContent=o,I.textContent=t}function E(){b.textContent=localStorage.getItem("tests")||0,I.textContent=localStorage.getItem("bestWpm")||0}function L(){document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")}function W(){localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark")}y.onclick=()=>{const n=v.value;T(n),k()};i.addEventListener("input",()=>{if(f.currentTime=0,f.play(),i.value.trim()===l){clearInterval(d);const n=(Date.now()-m)/1e3,t=l.split(/\s+/).length,o=Math.round(t/n*60);c.textContent=`üéâ Perfect! ${t} words in ${n.toFixed(2)}s ‚Äî WPM: ${o}`,i.disabled=!0,C.play(),a.style.display="inline-block",a.onclick=()=>{navigator.clipboard.writeText(c.textContent),a.textContent="‚úÖ Copied!",setTimeout(()=>a.textContent="üìã Copy Result",2e3)},x(o)}});w.onclick=L;v.onchange=()=>{i.disabled||y.click(),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js")};E();W();
